<!DOCTYPE html>
<html>
<head>
	<title>Zakład Pogrzebowy Kowalczyk</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" defer></script>
</head>
<body>
	{{ component('NavBar') }}
	<div class="d-flex justify-content-center">
		<form class="w-25" id="register-form">
			<div class="mb-3">
				<label for="user-email" class="form-label">Email</label>
				<input type="email" class="form-control" id="email" />
			</div>
			<div class="mb-3">
				<label for="user-email" class="form-label">Hasło</label>
				<input type="password" class="form-control" id="password" />
			</div>
			<div class="mb-3">
				<label for="user-email" class="form-label">Numer Telefonu</label>
				<input type="number" class="form-control" id="phone" />
			</div>
			<button type="submit" class="btn btn-dark">Zarejestruj</button>
		</form>
	</div>
	<div class="d-flex justify-content-center">
		Już posiadasz konto?	
		<a href="/login">Zaloguj się!</a>
	</div>
	<script>

	const form = document.getElementById('register-form');
	form.addEventListener('submit', (e) => {
		e.preventDefault();

		const email = document.getElementById('email').value;
		const password = document.getElementById('password').value;
		const phone = document.getElementById('phone').value;
		
		fetch('/register/create', {
			method: 'POST',
			body: JSON.stringify({
				email: email,
				password: password,
				phone: phone,
			}),
		})
		.then((res) => res.json())
		.then((data) => {
			console.log(data);
			window.location = '/login';
		});
	});

	</script>
</body>
</html>
